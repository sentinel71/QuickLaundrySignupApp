<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:watermark="http://richfaces.org/sandbox/watermark">

<h:head>
<!-- 	<h:outputStylesheet name="index.css" library="css" /> -->
	<link rel="stylesheet" type="text/css" href="../css/index.css"/>
	<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'/>
	<script src="../javascript/prototype.js" type="text/javascript"></script>
	<script src="../javascript/scriptaculous.js" type="text/javascript"></script>
</h:head>
	
<h:body>
<h:form id="myForm">
		<h:inputText id="email" value="#{signUp.email}" size="30" style="border: solid 1px black;border-radius: 5px 0 0 5px;height: 30px;width: 55%;text-align: center;font-size: 1.25em;"></h:inputText>	  		

		<h:commandButton id="go" value="Go"  onclick="return validateForm();" >
			<f:ajax execute="email" listener="#{signUp.signup}" ></f:ajax>
		</h:commandButton>
		<script type="text/javascript">
		window.onload = function() {
		    document.getElementById('myForm:email').setAttribute("placeholder", "name@email.com");
		  }
		
	function validateForm () {
		var x = document.getElementById('myForm:email').value;		
		var atpos = x.indexOf("@");
		var dotpos=x.lastIndexOf(".");	
		if (atpos &lt; 1 || dotpos &lt; atpos+2 || dotpos+2 &gt;= x.length)
		{
			document.getElementById('myForm:email').shake();
			document.getElementById('myForm:go').shake();
			return false;
		}
	}
	</script>
	</h:form>
</h:body>
</html>